<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Chapter 18 â€“ Deepika â¤ï¸</title>
<!-- Google Fonts for elegant styling -->
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Pacifico&family=Playfair+Display&family=Caveat&display=swap" rel="stylesheet" />
<style>
:root { --accent: #ffd700; --pink: #ff85a2; --deep: #1a0a2e; }
body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; font-family: 'Poppins', sans-serif; color: white; transition: background 1.2s ease; background-color: #050505; }
h1, h2 { font-family: 'Great Vibes', cursive; font-size: 3rem; margin: 20px 0; }
h2 { font-size: 2rem; }
#birthdayMsg { font-family: 'Great Vibes', cursive; font-size: 2.5rem; color: #ffd700; margin-top: 20px; text-align: center; }
.full-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 1000; text-align: center; padding: 20px; box-sizing: border-box; background: rgba(0,0,0,0.8); }
.hidden { display: none !important; }

canvas { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 1; }

.glow-title { font-family: 'Playfair Display', serif; font-size: 3rem; color: var(--accent); text-shadow: 0 0 20px rgba(255,215,0,0.5); }

.btn { background: white; color: #1a0a2e; border: none; padding: 12px 30px; border-radius: 50px; font-weight: 600; cursor: pointer; transition: 0.3s; margin: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.3); font-family: 'Poppins', sans-serif; }
.btn:hover { transform: translateY(-3px); box-shadow: 0 0 20px var(--accent); }

.input { padding: 12px; border-radius: 10px; border: 2px solid var(--accent); font-family: 'Poppins', sans-serif; font-size: 1.1rem; text-align: center; }

.poem-box { background: rgba(0,0,0,0.85); padding: 40px; border-radius: 30px; max-width: 700px; width: 90%; max-height: 80vh; overflow-y: auto; margin: 20px 0; }
.poem-text { font-family: 'Pacifico', cursive; font-size: 1.4rem; line-height: 1.8; opacity: 0; transition: opacity 0.5s ease; color: #fff; white-space: pre-line; }

#questionContainer { margin-top: 30px; }
#questionText { font-family: 'Playfair Display', serif; font-size: 2rem; margin-bottom: 20px; }
</style>
</head>
<body>

<canvas id="starCanvas"></canvas>

<!-- Stage overlays -->
<div id="startStage" class="full-screen">
<h1 class="glow-title">Chapter 18</h1>
<button class="btn" onclick="initExp()">Open Your World âœ¨</button>
</div>

<div id="loungeStage" class="full-screen hidden">
<h1 class="glow-title">Wait for the Magic...</h1>
<div id="timer" style="font-size: 4rem; color: var(--accent);">00:00:05</div>
<button class="btn" onclick="checkP()">Verify & Enter ğŸ”“</button>
</div>

<div id="cipherStage" class="full-screen hidden">
<div class="poem-box">
<h2 class="glow-title">ğŸ”“ The Cipher</h2>
<p style="letter-spacing: 3px; border: 1px dashed white; padding: 15px;">23-8-15 &amp; 9-19 &amp; 25-15-21-18 <br> 19-15-21-12-13-1-20-5 ?</p>
<p style="font-size: 0.8rem; color: #ccc;"><i>(HINT: Answer in CAPITAL &amp; No AI! ğŸ˜‰)</i></p>
<input type="text" id="cipherInput" placeholder="DECODE HERE..." class="input"/>
<br><button class="btn" onclick="verifyC()">Verify âœ¨</button>
</div>
</div>

<div id="successStage" class="full-screen hidden">
<h1 class="glow-title" style="font-size: 4.5rem;">Correct! âœ…</h1>
<p style="font-family: 'Caveat', cursive; font-size: 2.2rem;">Welcome to your 18th Chapter, My Love.</p>
</div>

<div id="menuStage" class="full-screen hidden">
<h2 class="glow-title">Choose Your Path</h2>
<button class="btn" onclick="startS(1)">âœ¨ Classic Beauty</button>
<button class="btn" onclick="document.getElementById('pLock').classList.toggle('hidden')">ğŸ˜œ Little Miss Dramebaaz</button>
<button class="btn" onclick="startS(3)">ğŸ‘©â€â¤ï¸â€ğŸ‘¨ Soulmate Saga</button>
<div id="pLock" class="hidden">
<input type="password" id="sPass" class="input" placeholder="Secret Code..." />
<br><button class="btn" onclick="vSecret()">Unlock ğŸ”“</button>
</div>
</div>

<div id="slideStage" class="full-screen hidden">
<div class="slide-container">
<img id="sImg" class="slide-img" src="" onclick="selectImage()" />
<div id="sCap" class="caption"></div>
<button class="btn" onclick="nextP()">Next Memory â”</button>
</div>
</div>

<div id="mainPage" class="full-screen hidden" style="background: linear-gradient(to right, #2c3e50, #000);">
<h1 class="glow-title" style="font-size: 3rem;">DEEPIKA TURNS 18</h1>
<div style="margin-top:20px;">
<h2 style="font-family:'Playfair Display'; font-size:2rem;">My Love Turns 18</h2>
<div id="birthdayMsg" style="display:none;">HAPPY BIRTHDAY MY KAAJUKATLI ğŸ’“ğŸ¤Œ</div>
</div>
<div style="margin-top:30px;">
<div id="iconV" class="floating-icon" onclick="openPoems()"><span class="icon-symbol">ğŸ“œ</span><br><small style="font-family:'Caveat', cursive;">Verses</small></div>
<div id="iconL" class="floating-icon" onclick="openLetter()"><span class="icon-symbol">ğŸ’Œ</span><br><small style="font-family:'Caveat', cursive;">Letter</small></div>
</div>
<div id="questionBtn" style="margin-top:50px;">
<button class="btn" onclick="askQuestion()">A Question for You... ğŸ’</button>
</div>
</div>

<!-- Poem overlay -->
<div id="pOverlay" class="full-screen hidden" style="background: rgba(0,0,0,0.98);">
<div class="poem-box">
<div id="pContent" class="poem-text"></div>
<button class="btn" id="nextPoemBtn" onclick="nextPoem()" style="margin-top:20px;">Next Poem âœ¨</button>
</div>
</div>

<!-- Letter overlay -->
<div id="lOverlay" class="full-screen hidden" style="background: rgba(0,0,0,0.98);">
<div class="poem-box" style="background:#fffafa; color:#333; font-family:'Caveat'; font-size:1.4rem; text-align:left;">
[Your heartfelt letter here]
</div>
<button class="btn" onclick="closeLetter()">Close Letter</button>
</div>

<!-- Question page for future years -->
<div id="questionPage" class="full-screen hidden" style="background:#1a0a2e;">
<div id="questionContainer">
<div id="questionText">Her, how many future years do you want to be with me?</div>
<button class="btn" onclick="answerFuture('infinite')">â™¾ï¸</button>
<button class="btn" onclick="answerFuture('spell')">Infinite</button>
</div>
</div>

<!-- Second question for confirmation -->
<div id="confirmPage" class="full-screen hidden" style="background:#1a0a2e;">
<div id="questionContainer">
<div id="questionText">You really do mean your answer?</div>
<button class="btn" onclick="finalAnswer('yes')">Yes</button>
<button class="btn" onclick="finalAnswer('no')">No</button>
</div>
</div>

<!-- Final page -->
<div id="finalPage" class="full-screen hidden" style="background:#000;">
<h1 style="font-family:'Playfair Display'; font-size:3rem; color:#ffd700;">I LOVE YOU DEEPIKA! â¤ï¸ğŸ’–</h1>
<h2 style="margin-top:20px;">MY WORLD... ğŸŒ</h2>
<div style="font-size:4rem; margin-top:20px;">ğŸ’‹ğŸ˜ğŸ’“ğŸŒ¹ğŸ˜ğŸ’‹</div>
</div>

<script>
const canvas = document.getElementById('starCanvas');
const ctx = canvas.getContext('2d');
let stars = [], comets = [];
function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();
class Star { constructor() { this.x = Math.random()*canvas.width; this.y = Math.random()*canvas.height; this.opacity = Math.random(); } draw() { ctx.fillStyle = `rgba(255,255,255,${this.opacity})`; ctx.beginPath(); ctx.arc(this.x,this.y,1,0,Math.PI*2); ctx.fill(); } }
class Comet { constructor() { this.reset(); } reset() { this.x = Math.random()*canvas.width; this.y = -50; this.speed = 4; } update() { this.y += this.speed; this.x -= 2; if(this.y > canvas.height) this.reset(); } draw() { ctx.strokeStyle = "rgba(255,215,0,0.3)"; ctx.beginPath(); ctx.moveTo(this.x,this.y); ctx.lineTo(this.x+30,this.y-60); ctx.stroke(); } }
for(let i=0;i<120;i++) stars.push(new Star()); for(let i=0;i<4;i++) comets.push(new Comet());
function anim() { ctx.clearRect(0,0,canvas.width,canvas.height); stars.forEach(s=>s.draw()); comets.forEach(c=>{c.update();c.draw();}); requestAnimationFrame(anim); }
anim();

let ready = false, pIdx = 0, currentS = 0, photoIdx = 0, seen = {1:false,2:false,3:false};
const poems = [
`<b>Our Journey</b>\n\nBestowed upon a flowerğŸŒ¸,  
Struck by the fragrance she showersğŸŒ¿.  
A moment to grasp the metaphorâ€”  
Her simple smile swirls my heartâ€™s coreâ¤ï¸â€ğŸ”¥.  
Blooming, my soul becomes ecstaticâœ¨.\n\n
Her gaze whispers romanceğŸ’«,  
Bringing peace to lifeâ€™s expanseğŸ•Šï¸.  
Curves flow from neck down to feetğŸ’ƒ,  
Where every delicacy meets perfection sweetğŸƒ.  
Darling, your lips, a place to dieğŸ’‹,  
The ultimate moon with no smudge in the skyğŸŒ™,  
Filling life with love and gentle restğŸŒ¹.\n\n
The night we shared,  
By the riverbank sideğŸï¸,  
Cuddled close on the steps,  
Warmth growing deep insideğŸ”¥â€”  
That pace embracing us,  
Leading to the magical bliss,  
Caught in the momentâ€™s blushğŸ˜Š,  
Our first ever kissğŸ’.`,
`<b>Irreplaceable</b>\n\nIsn't the nature indicating somethin', ğŸŒ¿\nMoon seems to be more shiny. ğŸŒ•\nEven the beauty lost its weight, âš–ï¸\nBeen replaced by the the irreplaceable. âœ¨\nYeah its the name, that I chase for , ğŸ‘£\nDeeply in hearts of optimistic forest, ğŸŒ²\nThe name of my flower, Deepika. ğŸŒ¸`,
`<b>The Rooting Self</b>\n\nDizziness felt ğŸ’«\nAnd darkness arose ğŸŒ‘\nJust in time, the tale-lore spoke ğŸ“–\nEnough of the fairy ğŸ§šâ€â™€ï¸\nThe magic spread thin âœ¨\nJust to keep me awake ğŸ‘ï¸\nAnd rooting still ğŸŒ³\nFor the together self... ğŸ‘©â€â¤ï¸â€ğŸ‘¨`
];

const photos = {
    1: [{img:"Deepika1.jpg", m:"Beginning of journey ğŸŒ±"}, {img:"Deepika2.jpg", m:"Favorite smile ğŸ˜ŒğŸ’•"}, {img:"Deepika3.jpg", m:"Elegant âœ¨"}, {img:"Deepika4.jpg", m:"You are mine ğŸ¤«â¤ï¸"}, {img:"Deepika5.jpg", m:"Doraemon ğŸ±â€ğŸš€"}, {img:"Deepika6.jpg", m:"Beautiful girl ğŸ‘‘"}],
    2: [{img:"Deepika7.jpg", m:"In the moment ğŸ”ğŸ’–"}, {img:"Deepika8.jpg", m:"Stay happy ğŸ˜ŠğŸ§¿"}, {img:"Deepika9.jpg", m:"Thinking of me? ğŸ¤”ğŸ’­"}, {img:"Deepika10.jpg", m:"Chhota Don ğŸ˜ğŸ‘Š"}, {img:"Deepika11.jpg", m:"In my control ğŸª„ğŸ˜ˆ"}, {img:"Deepika.jpg", m:"Chubby princess ğŸ˜˜"}],
    3: [{img:"Deepika12.jpg", m:"Holding you ğŸ¤ğŸ’"}, {img:"Deepika13.jpg", m:"Our future ğŸ‘ï¸ğŸŒ…"}, {img:"Deepika14.jpg", m:"Bluetooth ğŸ“¶ğŸ’"}, {img:"Deepika15.jpg", m:"Just you and me ğŸ‘©â€â¤ï¸â€ğŸ‘¨"}, {img:"Deepika16.jpg", m:"Deadly duo ğŸ”¥âš”ï¸"}, {img:"Deepika17.jpg", m:"Together â™¾ï¸ğŸŒ¹"}]
};

function initExp() {
    document.getElementById('startStage').classList.add('hidden');
    document.getElementById('loungeStage').classList.remove('hidden');
    setTimeout(() => { ready = true; document.getElementById('timer').innerText = "00:00:00"; }, 5000);
}
function checkP() { if(ready) { document.body.className = "bg-cipher"; document.getElementById('loungeStage').classList.add('hidden'); document.getElementById('cipherStage').classList.remove('hidden'); } }
function verifyC() {
    if(document.getElementById('cipherInput').value.trim().toUpperCase() === "KARTIK") {
        document.body.className = "bg-success";
        document.getElementById('cipherStage').classList.add('hidden');
        document.getElementById('successStage').classList.remove('hidden');
        setTimeout(() => {
            document.getElementById('successStage').classList.add('hidden');
            document.getElementById('menuStage').classList.remove('hidden');
            playM('memoriesMusic');
        }, 3000);
    }
}
function vSecret() { if(document.getElementById('sPass').value === "Let's Deep Dive") startS(2); else alert("Try again!"); }
let currentS=0, photoIdx=0, seen={1:false,2:false,3:false};
function startS(id) {
    currentS = id; photoIdx=0; seen[id]=true;
    document.body.className = id==1?"bg-classic":(id==2?"bg-dramebaaz":"bg-soulmate");
    document.getElementById('menuStage').classList.add('hidden');
    document.getElementById('slideStage').classList.remove('hidden');
    loadPhoto();
}
function loadPhoto() {
    const p = photos[currentS][photoIdx];
    const img = document.getElementById('sImg');
    img.src = p.img; 
    document.getElementById('sCap').innerText = p.m;
    img.style.opacity=1;
}
function nextP() {
    photoIdx++;
    if(photoIdx < photos[currentS].length) {
        const img = document.getElementById('sImg');
        img.style.transition='opacity 0.5s ease'; 
        img.style.opacity=0;
        setTimeout(()=>{ loadPhoto(); },500);
    } else {
        document.getElementById('slideStage').classList.add('hidden');
        if(seen[1] && seen[2] && seen[3]) {
            document.body.className='bg-galaxy';
            document.getElementById('mainPage').classList.remove('hidden');
            playM('mainMusic');
            document.getElementById('birthdayMsg').style.display='block';
        } else {
            document.body.className='bg-lounge';
            document.getElementById('menuStage').classList.remove('hidden');
        }
    }
}
function selectImage() {
    const img = document.getElementById('sImg');
    img.style.transition='opacity 0.5s ease';
    img.style.opacity=0;
    setTimeout(() => {
        // Remove current image from array
        const src = img.src;
        photos[currentS] = photos[currentS].filter(p=>p.img!==src);
        // Load next or finish
        if(photos[currentS].length > 0) {
            loadPhoto();
            img.style.opacity=1;
        } else {
            nextP();
        }
    }, 500);
}

function openPoems() {
    pIdx=0; document.getElementById('pOverlay').classList.remove('hidden'); showPoem();
}
function showPoem() {
    const pText = document.getElementById('pContent');
    pText.innerHTML = poems[pIdx].replace(/\n/g,'<br>');
    pText.style.opacity=0;
    setTimeout(()=>{ pText.style.opacity=1; },100);
}
function nextPoem() {
    pIdx++;
    if(pIdx<poems.length) {
        showPoem();
    } else {
        document.getElementById('pOverlay').classList.add('hidden');
        showQuestionPage();
    }
}

// Opening letter
function openLetter() { vL=true; document.getElementById('lOverlay').classList.remove('hidden'); }
function closeLetter() { document.getElementById('lOverlay').classList.add('hidden'); }
function showQuestionPage() {
    document.getElementById('questionPage').classList.remove('hidden');
}
function askQuestion() {
    // Prompt user or show question for next step
    showQuestionPage();
}
function answerFuture(choice) {
    // hide question, proceed
    document.getElementById('questionPage').classList.add('hidden');
    document.getElementById('confirmPage').classList.remove('hidden');
}
function finalAnswer(ans) {
    document.getElementById('confirmPage').classList.add('hidden');
    if(ans==='yes') {
        // Show final love page
        document.getElementById('finalPage').classList.remove('hidden');
    } else {
        alert('Khabardar y option choose kiya toh ğŸ”ª');
        // Restart or go back
        document.getElementById('questionPage').classList.remove('hidden');
    }
}

// Ask her
function askQuestion() {
    // Start question flow
    document.getElementById('questionPage').classList.remove('hidden');
}

// Show the final page
// (already handled in finalAnswer if she says yes)

// Utility
function vSecret() {
    if(document.getElementById('sPass').value==='Let\'s Deep Dive') {
        startS(2);
        document.getElementById('pLock').classList.add('hidden');
    } else {
        alert('Try again!');
    }
}
function initExp() {
    document.getElementById('startStage').classList.add('hidden');
    document.getElementById('loungeStage').classList.remove('hidden');
    setTimeout(()=>{ ready=true; document.getElementById('timer').innerText='00:00:00'; },5000);
}
function checkP() {
    if(ready) {
        document.body.className='bg-cipher';
        document.getElementById('loungeStage').classList.add('hidden');
        document.getElementById('cipherStage').classList.remove('hidden');
    }
}
function verifyC() {
    if(document.getElementById('cipherInput').value.trim().toUpperCase()==='KARTIK') {
        document.body.className='bg-success';
        document.getElementById('cipherStage').classList.add('hidden');
        document.getElementById('successStage').classList.remove('hidden');
        setTimeout(()=> {
            document.getElementById('successStage').classList.add('hidden');
            document.getElementById('menuStage').classList.remove('hidden');
            playM('memoriesMusic');
        },3000);
    }
}
function playM(id) {
    ['quizMusic','memoriesMusic','mainMusic'].forEach(m => {
        let a=document.getElementById(m);
        if(m===id){ a.play(); } else { a.pause(); }
    });
}
</script>
</body>
    </html>
